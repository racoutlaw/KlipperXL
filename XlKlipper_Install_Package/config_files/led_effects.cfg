# ============================================================================
# LED EFFECTS - Status-based animations for side LED strips
# Requires: klipper-led_effect plugin
# ============================================================================

# --- IDLE: gentle white breathing ---
[led_effect effect_idle]
autostart: true
frame_rate: 24
leds:
    neopixel:side_leds
layers:
    breathing 5 1 top (0.1, 0.1, 0.1)

# --- HEATING: orange breathing ---
[led_effect effect_heating]
autostart: false
frame_rate: 24
leds:
    neopixel:side_leds
layers:
    breathing 3 1 top (1.0, 0.18, 0.0)

# --- HOMING: blue chase ---
[led_effect effect_homing]
autostart: false
frame_rate: 24
leds:
    neopixel:side_leds
layers:
    breathing 2 1 top (0.0, 0.3, 1.0)

# --- LEVELING: purple breathing ---
[led_effect effect_leveling]
autostart: false
frame_rate: 24
leds:
    neopixel:side_leds
layers:
    breathing 4 1 top (0.5, 0.0, 0.8)

# --- MESHING: yellow-green breathing ---
[led_effect effect_meshing]
autostart: false
frame_rate: 24
leds:
    neopixel:side_leds
layers:
    breathing 3 1 top (0.4, 0.8, 0.0)

# --- PRINTING: teal solid ---
[led_effect effect_printing]
autostart: false
frame_rate: 24
leds:
    neopixel:side_leds
layers:
    static 0 0 top (0.0, 0.4, 0.4)

# --- PRINT COMPLETE: green solid ---
[led_effect effect_complete]
autostart: false
frame_rate: 24
leds:
    neopixel:side_leds
layers:
    static 0 0 top (0.0, 1.0, 0.0)

# --- PAUSED: yellow breathing ---
[led_effect effect_paused]
autostart: false
frame_rate: 24
leds:
    neopixel:side_leds
layers:
    breathing 2 1 top (1.0, 1.0, 0.0)

# --- ERROR: red strobe ---
[led_effect effect_error]
autostart: false
frame_rate: 24
leds:
    neopixel:side_leds
layers:
    strobe 1 1.5 add (1.0, 0.0, 0.0)
    breathing 2 0 difference (0.95, 0.0, 0.0)

# --- CALIBRATING: cyan breathing ---
[led_effect effect_calibrating]
autostart: false
frame_rate: 24
leds:
    neopixel:side_leds
layers:
    breathing 3 1 top (0.0, 0.8, 0.8)

# ============================================================================
# STATUS MACROS - Call these from START_PRINT, END_PRINT, etc.
# ============================================================================

[gcode_macro _status_off]
gcode:
    STOP_LED_EFFECTS

[gcode_macro _status_idle]
gcode:
    STOP_LED_EFFECTS
    SET_LED_EFFECT EFFECT=effect_idle

[gcode_macro _status_heating]
gcode:
    STOP_LED_EFFECTS
    SET_LED_EFFECT EFFECT=effect_heating

[gcode_macro _status_homing]
gcode:
    STOP_LED_EFFECTS
    SET_LED_EFFECT EFFECT=effect_homing

[gcode_macro _status_leveling]
gcode:
    STOP_LED_EFFECTS
    SET_LED_EFFECT EFFECT=effect_leveling

[gcode_macro _status_meshing]
gcode:
    STOP_LED_EFFECTS
    SET_LED_EFFECT EFFECT=effect_meshing

[gcode_macro _status_printing]
gcode:
    STOP_LED_EFFECTS
    SET_LED_EFFECT EFFECT=effect_printing

[gcode_macro _status_complete]
gcode:
    STOP_LED_EFFECTS
    SET_LED_EFFECT EFFECT=effect_complete

[gcode_macro _status_paused]
gcode:
    STOP_LED_EFFECTS
    SET_LED_EFFECT EFFECT=effect_paused

[gcode_macro _status_error]
gcode:
    STOP_LED_EFFECTS
    SET_LED_EFFECT EFFECT=effect_error

[gcode_macro _status_calibrating]
gcode:
    STOP_LED_EFFECTS
    SET_LED_EFFECT EFFECT=effect_calibrating
